#include <stdio.h>
#include <string.h>

char calculateChecksum(const char* message) {
    char checksum = 0;
    int i = 1; // Start after the '$' character
    
    // XOR each character in the message until '*' is encountered
    for(i=1;i<strlen(message)-3;i++)
        if (message[i] != ',') {
            checksum ^= message[i];
        }
        
    
    
    return checksum;
}

int main() {
    char str[] = "$GPGGA,181908.00,3404.7041778,N,07044.3966270,W,4,13,1.00,495.144,M,29.200,M,0.10,0000,*5F";
    
    char checksum = calculateChecksum(str);
    
    printf("Checksum: *%02X\n", checksum);
    
    return 0;
}
